# ğŸ“‹ OVU Project â€” Cursor Rules
# ================================================
# ğŸ¯ PROJECT: OVU (User & Admin Management System)
# ğŸ“… Created: 2025-12-13
# ğŸ“Œ Global Standards Version: 1.0.0
# ================================================

## âš ï¸ MANDATORY FIRST STEPS â€” ×—×•×‘×” ×‘×”×ª×—×œ×ª ×›×œ ×¡×©×Ÿ!

### 1. ğŸ“– ×§×¨× ××ª ×”-Handoff ×”××—×¨×•×Ÿ
```
ACTION: ×§×¨× ××ª docs/SESSION_HANDOFF.md
PURPOSE: ×œ×”×‘×™×Ÿ ××” ×§×¨×” ×‘×¡×©×Ÿ ×”×§×•×“× ×•×××™×¤×” ×œ×”××©×™×š
```

### 2. ğŸ“‹ ×§×¨× ××ª ×”-Dev Guidelines (×× ×¢×•×‘×“×™× ×¢×œ ULM)
```
ACTION: ×§×¨× https://ulm-rct.ovu.co.il/dev-guidelines
OR: ×§×¨× ../worktrees/ulm-work/frontend/react/src/components/DevelopmentGuidelines/DevelopmentGuidelines.tsx
PURPOSE: ×œ×”×‘×™×Ÿ ××ª ×›×œ×œ×™ ×”×¤×™×ª×•×—
```

### 3. ğŸ¯ ×”×‘×Ÿ ××ª ×”××˜×¨×”
```
ACTION: ×©××œ ××ª ×”××©×ª××© ××” ×”××˜×¨×” ×©×œ ×”×¡×©×Ÿ
PURPOSE: ×œ×”×ª××§×“ ×‘××©×™××” ×”× ×›×•× ×”
```

### 4. ğŸ“ ×¢×“×›×Ÿ Handoff ×‘×¡×•×£
```
ACTION: ×œ×¤× ×™ ×¡×™×•×, ×¢×“×›×Ÿ ××ª docs/SESSION_HANDOFF.md
PURPOSE: ×œ×©××•×¨ ×”××©×›×™×•×ª ×œ×¡×©×Ÿ ×”×‘×
```

---

## ğŸ—ï¸ ××‘× ×” ×”×¤×¨×•×™×§×˜

```
OVU System (3 Services):

ğŸ” ULM (User Login Manager)
   - Backend: FastAPI + SQLAlchemy + PostgreSQL
   - Frontend: React + Vite + TypeScript
   - Mobile: Flutter
   - Worktree: ../worktrees/ulm-work

ğŸ‘¤ AAM (Admin Area Manager)
   - Base Server: FastAPI (https://base.aam.bflow.co.il)
   - Admin Dashboard: FastAPI (https://aam.bflow.co.il)
   - Role Installer: FastAPI (https://approleinstaller.aam.bflow.co.il)
   - Worktree: ../worktrees/aam-work

ğŸ“¦ Shared
   - React Components: ../worktrees/shared-work/react-components
   - Flutter Components: ../worktrees/shared-work/interface-resources
   - Localization: ../worktrees/shared-work/localization
   - Worktree: ../worktrees/shared-work
```

---

## ğŸ¨ Design System Rules â€” ×—×•×‘×”!

### âœ… ×ª××™×“ ×”×©×ª××© ×‘-CSS Variables:
```css
.component {
  background: var(--card-background);
  color: var(--text-primary);
  border: 1px solid var(--border-color);
  padding: var(--spacing-md);
}
```

### âŒ ×œ×¢×•×œ× ×œ× hardcode:
```css
/* ××¡×•×¨! */
background: #1a1a2e;
color: white;
padding: 16px;
```

### CSS Variables ×–××™× ×™×:
```css
/* Colors */
--primary-color / --primary-blue    /* #2563eb */
--background-color / --bg-color
--surface-color / --card-background
--text-color / --text-primary
--text-secondary
--border-color
--hover-bg

/* Spacing */
--spacing-xs, --spacing-sm, --spacing-md, --spacing-lg, --spacing-xl
```

---

## ğŸš€ Deployment Rules

### ULM Frontend (CRITICAL!):
```bash
# âš ï¸ Nginx serves ONLY from /public/!
# Server: ploi@64.176.173.105

# 1. Build
cd ../worktrees/ulm-work/frontend/react && npm run build

# 2. Upload
scp -i ~/.ssh/ovu_key -r dist/* ploi@64.176.173.105:/home/ploi/ulm-rct.ovu.co.il/

# 3. CRITICAL â€” Copy to public/
ssh -i ~/.ssh/ovu_key ploi@64.176.173.105 "cp -rf /home/ploi/ulm-rct.ovu.co.il/*.html /home/ploi/ulm-rct.ovu.co.il/public/ && cp -rf /home/ploi/ulm-rct.ovu.co.il/assets/* /home/ploi/ulm-rct.ovu.co.il/public/assets/"
```

### ULM Backend:
```bash
# Server: ploi@64.176.171.223

# 1. Upload
scp -i ~/.ssh/ovu_key -r app/ ploi@64.176.171.223:/home/ploi/ovu-ulm/backend/

# 2. Find & kill process
ssh -i ~/.ssh/ovu_key ploi@64.176.171.223 "lsof -i :8001"
ssh -i ~/.ssh/ovu_key ploi@64.176.171.223 "kill -9 [PID]"

# 3. Restart
ssh -i ~/.ssh/ovu_key ploi@64.176.171.223 "cd /home/ploi/ovu-ulm/backend && nohup venv/bin/uvicorn app.main:app --host 0.0.0.0 --port 8001 > /dev/null 2>&1 &"
```

---

## ğŸ“Š API Response Format

```json
{
  "success": true,
  "data": { ... },
  "message": "Success message"
}
```

---

## ğŸŒ Multi-language Support

×”××¢×¨×›×ª ×ª×•××›×ª ×‘-3 ×©×¤×•×ª (×—×•×‘×” ×œ×ª×¨×’× ×›×œ ×˜×§×¡×˜ UI!):
```typescript
const translations = {
  he: { title: "×›×•×ª×¨×ª ×‘×¢×‘×¨×™×ª" },
  en: { title: "Title in English" },
  ar: { title: "Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©" }
};
```

---

## ğŸ”’ Security Rules

- JWT Access Token: 15 minutes
- Refresh Token: 7 days
- Use `require_auth`, `require_admin`, `require_superadmin`
- Never log sensitive data
- Always validate user input

---

## âœ… Session End Checklist

- [ ] ×¢×“×›× ×ª×™ ××ª `docs/SESSION_HANDOFF.md`
- [ ] ×‘×“×§×ª×™ ×©×”×©×™× ×•×™×™× ×¢×•×‘×“×™×
- [ ] ××™×Ÿ ×©×’×™××•×ª ×‘-console
- [ ] ×”×§×‘×¦×™× × ×©××¨×•
- [ ] (×× deploy) ×•×•×™×“××ª×™ ×‘-production

---

## ğŸ”— URLs â€” Production

| Service | URL |
|---------|-----|
| ULM Frontend | https://ulm-rct.ovu.co.il |
| ULM Backend | http://64.176.171.223:8001 |
| ULM Dev Guidelines | https://ulm-rct.ovu.co.il/dev-guidelines |
| ULM Dev Journal | https://ulm-rct.ovu.co.il/dev-journal |
| AAM Base | https://base.aam.bflow.co.il |
| AAM Admin | https://aam.bflow.co.il |
| AAM Installer | https://approleinstaller.aam.bflow.co.il |

---

## ğŸ“– References

- [Global Quick Start](../.global-config/CURSOR_QUICK_START.md)
- [Architecture Spec](../.global-config/PROJECT_ARCHITECTURE_SPEC.md)
- [Handoff Template](../.global-config/SESSION_HANDOFF_TEMPLATE.md)

---

# END OF OVU CURSOR RULES

